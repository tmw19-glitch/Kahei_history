<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êó•Êú¨Âè≤ Ê≠¥‰ª£Áâ©‰æ°„Éä„Éì</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* Custom scrollbar hiding utility */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-stone-100 font-sans text-stone-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icons (Lucide replacements for standalone HTML) ---
        const Icon = ({ children, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const HistoryIcon = ({ className }) => (
            <Icon className={className}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 12"/><path d="M3 3v9h9"/><path d="M12 7v5l4 2"/></Icon>
        );
        const CoinsIcon = ({ className }) => (
            <Icon className={className}><circle cx="8" cy="8" r="6"/><path d="M18.09 10.37A6 6 0 1 1 10.34 18"/><path d="M7 6h1v4"/><path d="m16.71 13.88.7.71-2.82 2.82"/></Icon>
        );
        const ShoppingBagIcon = ({ className }) => (
            <Icon className={className}><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></Icon>
        );
        const InfoIcon = ({ className }) => (
            <Icon className={className}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></Icon>
        );
        const TrendingUpIcon = ({ className }) => (
            <Icon className={className}><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></Icon>
        );
        const TrendingDownIcon = ({ className }) => (
            <Icon className={className}><polyline points="22 17 13.5 8.5 8.5 13.5 2 7"/><polyline points="16 17 22 17 22 11"/></Icon>
        );
        const AlertTriangleIcon = ({ className }) => (
            <Icon className={className}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></Icon>
        );
        const BookOpenIcon = ({ className }) => (
            <Icon className={className}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></Icon>
        );

        // --- Main App Component ---
        const App = () => {
            const [currentYen, setCurrentYen] = useState(10000);
            const [selectedEra, setSelectedEra] = useState('edo_early');
            const [region, setRegion] = useState('edo');
            
            const eraData = {
                nara: {
                    label: 'È£õÈ≥•„ÉªÂ•àËâØ',
                    period: '708Âπ¥„Äú',
                    currencyName: 'ÊñáÔºà„ÇÇ„ÇìÔºâ',
                    baseRate: 50,
                    description: 'Êó•Êú¨Âàù„ÅÆÊµÅÈÄöË≤®Âπ£„ÄåÂíåÂêåÈñãÁèé„Äç„ÅåÁôªÂ†¥„ÄÇ„Åó„Åã„Åó‰ø°Áî®„ÅØ‰Ωé„Åè„ÄÅÈÉΩÔºà„Ç≠„Éä„Ç§Ôºâ‰ª•Â§ñ„Åß„ÅØÁ±≥„ÇÑÂ∏É„Åå‰∏ªÂΩπ„ÄÇ',
                    items: [
                        { name: 'Á±≥ 2kg', price: 10, icon: 'üåæ' },
                        { name: 'Â°© 1Âçá', price: 2, icon: 'üßÇ' },
                        { name: 'Â∏É 1Âèç', price: 50, icon: 'üßµ' },
                        { name: 'ÈÇ∏ÂÆÖ„ÅÆÂúüÂú∞', price: 1000, icon: 'üè†' },
                    ],
                    column: {
                        title: 'ËìÑÈä≠Âèô‰Ωç‰ª§„ÅÆ„Éë„É©„Éâ„ÉÉ„ÇØ„Çπ',
                        text: 'ÊîøÂ∫ú„ÅØ„Äå„ÅäÈáë„ÇíË≤Ø„ÇÅ„Åü„Çâ‰Ωç„Çí„ÅÇ„Åí„Çã„Äç„Å®Ë®Ä„ÅÑ„Åæ„Åó„Åü„Åå„ÄÅË£è„ÇíËøî„Åõ„Å∞„Äå„Åù„ÅÜ„Åß„ÇÇ„Åó„Å™„ÅÑ„Å®Ë™∞„ÇÇ‰Ωø„Å£„Å¶„Åè„Çå„Å™„Åã„Å£„Åü„Äç„ÅÆ„Åß„Åô„ÄÇÈäÖ‰∏çË∂≥„ÅßÈä≠„ÅÆË≥™„ÅåÊÇ™„Åè„Å™„Çã„Å®„ÄÅ‰∫∫„ÄÖ„ÅØ„Åô„Åê„Å´‰Ωø„Çè„Å™„Åè„Å™„Çä„Åæ„Åó„Åü„ÄÇ'
                    }
                },
                heian: {
                    label: 'Âπ≥ÂÆâÊôÇ‰ª£',
                    period: '10‰∏ñÁ¥Ä„Äú',
                    currencyName: 'Á±≥„ÉªÁµπÔºàÁâ©ÂìÅË≤®Âπ£Ôºâ',
                    baseRate: 0,
                    description: 'ÂÖ¨ÁöÑ„Å™Ë≤®Âπ£Áô∫Ë°å„ÅåÂÅúÊ≠¢ÔºàÊú¨ÊúùÂçÅ‰∫åÈä≠„ÅÆÊúÄÂæå„ÄåÈöÜÂπ≥Ê∞∏ÂÆù„Äç‰ª•ÈôçÔºâ„ÄÇÁµåÊ∏à„ÅØ„ÄåÁ±≥„Äç„Å®„ÄåÁµπ„Äç„ÅÆ‰∫§Êèõ„Å´Êàª„Çã„ÄÇ',
                    isCommodityMoney: true,
                    items: [
                        { name: 'È¶¨ 1È†≠', price: 500000, display:'Á±≥50Áü≥', icon: 'üêé' },
                        { name: 'Ë≤¥Êóè„ÅÆË£ÖÊùü', price: 200000, display:'Áµπ20Áñã', icon: 'üëò' },
                    ],
                    column: {
                        title: 'Ë≤®Âπ£„ÅÆÊ∂àÂ§±',
                        text: '„ÄåÊú¨ÊúùÂçÅ‰∫åÈä≠„Äç„ÅÆË≥™„ÅåÊÇ™Âåñ„Åó„Åô„Åé„Å¶‰ø°Áî®Â¥©Â£ä„ÄÇ‰∫∫„ÄÖ„ÅØËÖê„Çâ„Å™„ÅÑ„ÄåÂ∏É„Äç„ÇÑ‰∏ªÈ£ü„ÅÆ„ÄåÁ±≥„Äç„Çí„ÅäÈáë„ÅÆ‰ª£„Çè„Çä„Å´„Åó„Åæ„Åó„Åü„ÄÇ„Åì„Çå„ÇíÁâ©ÂìÅË≤®Âπ£„Å®„ÅÑ„ÅÑ„Åæ„Åô„ÄÇ'
                    }
                },
                medieval: {
                    label: 'ÈéåÂÄâ„ÉªÂÆ§Áî∫',
                    period: '12‰∏ñÁ¥Ä„Äú',
                    currencyName: 'ÊñáÔºàÊ∏°Êù•Èä≠Ôºâ',
                    baseRate: 100,
                    description: '‰∏≠ÂõΩÔºàÂÆã„ÉªÊòéÔºâ„Åã„ÇâÂ§ßÈáè„ÅÆÈä≠„ÇíËº∏ÂÖ•„ÄÇ„ÄåÊ∞∏Ê•ΩÈÄöÂÆù„Äç„Å™„Å©„ÅÆÊ∏°Êù•Èä≠„ÅåÊµÅÈÄö„Åó„ÄÅÁµåÊ∏à„ÅåÊ¥ªÁô∫Âåñ„ÄÇ',
                    items: [
                        { name: 'Â§™ÂàÄÔºàÊ≠¶Âô®Ôºâ', price: 1000, icon: '‚öîÔ∏è' },
                        { name: 'ÊâáÂ≠ê', price: 50, icon: 'ü™≠' },
                        { name: 'È¶¨ÂÄü„ÅÆÈÅãË≥É', price: 20, icon: 'üê¥' },
                        { name: 'Èñ¢ÊâÄ„ÅÆÈÄöË°åÊñô', price: 10, icon: 'üöß' },
                    ],
                    column: {
                        title: 'Êí∞Èä≠Ôºà„Åà„Çä„Åú„Å´Ôºâ„Å®Êí∞Èä≠‰ª§',
                        text: 'Ââ≤„Çå„Åü„Çä„Åô„ÇäÊ∏õ„Å£„Åü„Çä„Åó„Åü„Äå„Éì„ÇøÈä≠ÔºàÊÇ™Èä≠Ôºâ„Äç„ÇíÂèó„ÅëÂèñ„ÇäÊãíÂê¶„Åô„Çã„ÄåÊí∞Èä≠„Äç„ÅåÊ®™Ë°å„ÄÇÂπïÂ∫ú„ÅØ„ÄåÊÇ™Èä≠„ÇÇ‰∏ÄÂÆöÂâ≤Âêà„Å™„ÇâÊ∑∑„Åú„Å¶‰Ωø„Åà„Äç„Å®„ÅÑ„ÅÜÁêÜ‰∏çÂ∞Ω„Å™ÂëΩ‰ª§ÔºàÊí∞Èä≠‰ª§Ôºâ„ÇíÂá∫„Åó„Åæ„Åó„Åü„ÄÇ'
                    }
                },
                azuchi: {
                    label: 'ÂÆâÂúüÊ°ÉÂ±±',
                    period: '16‰∏ñÁ¥ÄÊú´',
                    currencyName: '‰∏°„ÉªÁü≥',
                    baseRate: 60000,
                    description: '‰ø°Èï∑„ÉªÁßÄÂêâ„ÅÆÊôÇ‰ª£„ÄÇÈáëÈäÄ„ÅÆÂ§ßÂà§„Åå‰Ωú„Çâ„Çå„Åü„Åå„ÄÅÊÅ©Ë≥ûÁî®„ÅßÂ∫∂Ê∞ë„Å´„ÅØÁÑ°Á∏Å„ÄÇ„ÄåÁü≥È´òÔºàÁ±≥„ÅÆÂèñ„ÇåÈ´òÔºâ„Äç„ÅåÂü∫Ê∫ñ„ÄÇ',
                    items: [
                        { name: 'ÈâÑÁ†≤ 1‰∏Å', price: 10, display: 'Á¥Ñ10‰∏°', icon: 'üî´' },
                        { name: 'Ëå∂Âô®ÔºàÂêçÁâ©Ôºâ', price: 1000, display: '‰∏ÄÂõΩ‰∏ÄÂüé', icon: 'üçµ' },
                        { name: 'ÂçóËõÆÊ∏°Êù•„ÅÆÊôÇË®à', price: 50, display: '50‰∏°', icon: 'üï∞Ô∏è' },
                    ],
                    column: {
                        title: 'Èáë„ÅÆËå∂ÂÆ§„Å®ÊÅ©Ë≥û',
                        text: '„Åì„ÅÆÊôÇ‰ª£„ÅÆÈáëË≤®ÔºàÂ§©Ê≠£Â§ßÂà§„Å™„Å©Ôºâ„ÅØ„ÄÅË≤∑„ÅÑÁâ©Áî®„Åß„ÅØ„Å™„Åè„ÄåÂÆ∂Êù•„Å∏„ÅÆ„ÅîË§íÁæé„Äç„Åß„Åó„Åü„ÄÇÁßÄÂêâ„Åå„Å∞„ÇâÊíí„ÅÑ„ÅüÈáëÈäÄ„ÅØ„ÄÅÊ¥æÊâã„Å™Ê°ÉÂ±±ÊñáÂåñ„ÅÆË±°Âæ¥„Åß„Åô„ÄÇ'
                    }
                },
                edo_early: {
                    label: 'Ê±üÊà∏ÂàùÊúü',
                    period: 'ÊÖ∂Èï∑„ÄúÂØõÊ∞∏',
                    currencyName: '‰∏âË≤®Âà∂Â∫¶',
                    baseRate: 20,
                    description: 'ÂÆ∂Â∫∑„Å´„Çà„Çä‰∏âË≤®Âà∂Â∫¶ÔºàÈáë„ÉªÈäÄ„ÉªÈä≠Ôºâ„ÅåÁ¢∫Á´ã„ÄÇË≤®Âπ£„ÅÆË≥™„ÇÇËâØ„Åè„ÄÅÁµåÊ∏à„ÅåÂÆâÂÆö„Åó„Å¶„ÅÑ„ÅüÈªÑÈáëÊúü„ÄÇ',
                    items: [
                        { name: 'Á±≥ 10kg', price: 500, icon: 'üåæ' },
                        { name: 'ÈÖí 1Âçá', price: 200, icon: 'üç∂' },
                        { name: 'È£õËÑöÔºàÈÉµ‰æøÔºâ', price: 300, icon: 'üèÉ' },
                        { name: 'Êú®Á∂ø„ÅÆÁùÄÁâ©', price: 4000, display: '1‰∏°', icon: 'üëò' },
                    ],
                    column: {
                        title: 'ÊÖ∂Èï∑Â∞èÂà§„ÅÆ‰ø°È†º',
                        text: 'ÂÆ∂Â∫∑„Åå‰Ωú„Å£„Åü„ÄåÊÖ∂Èï∑Â∞èÂà§„Äç„ÅØÈáë„ÅÆÁ¥îÂ∫¶„ÅåÈ´ò„ÅèÔºàÁ¥Ñ86%Ôºâ„ÄÅ‰∏ñÁïåÁöÑ„Å´Ë¶ã„Å¶„ÇÇÈùûÂ∏∏„Å´ËâØË≥™„Å™ÈÄöË≤®„Åß„Åó„Åü„ÄÇ„Åì„Çå„ÅåÊ±üÊà∏260Âπ¥„ÅÆÂπ≥Âíå„ÅÆÂü∫Á§é„Å®„Å™„Çä„Åæ„Åó„Åü„ÄÇ'
                    }
                },
                edo_genroku: {
                    label: 'Ê±üÊà∏‰∏≠Êúü',
                    period: 'ÂÖÉÁ¶Ñ„ÄúÂÆùÊ∞∏',
                    currencyName: '‰∏âË≤®ÔºàÊîπÈã≥Ôºâ',
                    baseRate: 15,
                    description: 'ËçªÂéüÈáçÁßÄ„Å´„Çà„Çã„ÄåÂÖÉÁ¶Ñ„ÅÆÊîπÈã≥„Äç„ÄÇÈáë„ÅÆÂê´ÊúâÈáè„ÇíÊ∏õ„Çâ„Åó„ÅüË≤®Âπ£„ÇíÂ§ßÈáèÁô∫Ë°å„Åó„ÄÅ„Ç§„É≥„Éï„É¨„Å®Â•ΩÊôØÊ∞ó„ÅåÂà∞Êù•„ÄÇ',
                    items: [
                        { name: '‰∫ïÂéüË•øÈ∂¥„ÅÆÊú¨', price: 150, icon: 'üìñ' },
                        { name: 'Ê≠åËàû‰ºé„ÅÆÊ°üÊï∑Â∏≠', price: 20000, display:'5‰∏°', icon: 'üé≠' },
                        { name: 'È´òÁ¥öÊñô‰∫≠„ÅÆÈ£ü‰∫ã', price: 4000, display:'1‰∏°', icon: 'üç±' },
                        { name: 'Ëä±ÁÅ´„ÅÆÂØÑ‰ªò', price: 1000, icon: 'üéÜ' },
                    ],
                    column: {
                        title: 'Ë≤®Âπ£„ÅØÂõΩÂÆ∂„ÅÆÈÅìÂÖ∑',
                        text: 'ÂãòÂÆöÂêüÂë≥ÂΩπ„ÅÆËçªÂéüÈáçÁßÄ„ÅØ„ÄåË≤®Âπ£„ÅØÂõΩÂÆ∂„ÅåÂÆö„ÇÅ„Çã„ÇÇ„ÅÆ„ÄÇÁì¶Ôºà„Åã„Çè„ÇâÔºâ„Åß„ÅÇ„Å£„Å¶„ÇÇËâØ„ÅÑ„Äç„Å®„ÅÑ„ÅÜÂêçË®Ä„ÇíÊÆã„Åó„ÄÅÁÆ°ÁêÜÈÄöË≤®Âà∂Â∫¶„ÅÆÂÖàÈßÜ„Åë„Å®„Å™„ÇãËÄÉ„Åà„ÅßÂπïÂ∫úË≤°Êîø„ÇíÈªíÂ≠ó„Å´„Åó„Åæ„Åó„Åü„ÄÇ'
                    }
                },
                edo_late: {
                    label: 'ÂπïÊú´',
                    period: '‰∏áÂª∂„ÄúÊÖ∂Âøú',
                    currencyName: '‰∏âË≤®ÔºàÂ¥©Â£äÔºâ',
                    baseRate: 4,
                    description: 'ÈñãÂõΩ„Å´„Çà„ÇãÈáë„ÅÆÊµÅÂá∫„Å®„ÄÅÊîøÊÉÖ‰∏çÂÆâ„Å´„Çà„Çã„Éè„Ç§„Éë„Éº„Ç§„É≥„Éï„É¨„ÄÇ„Äå„Åà„Åà„Åò„ÇÉ„Å™„ÅÑ„Åã„Äç„ÅÆÁãÇ‰π±Áâ©‰æ°„ÄÇ',
                    items: [
                        { name: 'Âçµ 1ÂÄã', price: 50, icon: 'ü•ö' },
                        { name: '„Åù„Å∞ 1ÊùØ', price: 200, icon: 'üçú' },
                        { name: 'Èå¶ÁµµÔºà„Éã„É•„Éº„ÇπÔºâ', price: 30, icon: 'üì∞' },
                        { name: 'Ëº∏ÂÖ•„É©„Ç§„Éï„É´', price: 200000, display:'50‰∏°', icon: 'üî´' },
                    ],
                    column: {
                        title: 'ÈáëÊµÅÂá∫ÂïèÈ°å',
                        text: 'Êó•Êú¨„ÅÆÈáëÈäÄ‰∫§ÊèõÊØîÁéáÔºà1:5Ôºâ„Å®Êµ∑Â§ñÔºà1:15Ôºâ„ÅÆÈÅï„ÅÑ„ÇíÁ™Å„Åã„Çå„ÄÅÂ§ßÈáè„ÅÆÂ∞èÂà§„ÅåÊµ∑Â§ñ„Å∏ÊµÅÂá∫„ÄÇÂπïÂ∫ú„ÅØÂØæÊäó„Åó„Å¶Ë≥™„ÇíÊ•µÁ´Ø„Å´ËêΩ„Å®„Åó„Åü„Äå‰∏áÂª∂Â∞èÂà§„Äç„ÇíÁô∫Ë°å„Åó„ÄÅÁåõÁÉà„Å™„Ç§„É≥„Éï„É¨„ÇíÊãõ„Åç„Åæ„Åó„Åü„ÄÇ'
                    }
                },
                meiji_early: {
                    label: 'ÊòéÊ≤ªÂàùÊúü',
                    period: '„Äú1880Âπ¥‰ª£',
                    currencyName: 'ÂÜÜ',
                    baseRate: 1000,
                    description: 'Ëó©Êú≠„ÇÑÂ§™ÊîøÂÆòÊú≠„Åå‰π±Á´ã„ÄÇÊñ∞Ë≤®Êù°‰æã„Åß„ÄåÂÜÜ„Äç„Åå„Åß„Åç„Çã„Åå„ÄÅË•øÂçóÊà¶‰∫â„ÅÆÊà¶Ë≤ªË™øÈÅî„Åß‰∏çÊèõÁ¥ôÂπ£„ÅåÂ¢óÁô∫„Åï„Çå„Ç§„É≥„Éï„É¨„Å´„ÄÇ',
                    items: [
                        { name: 'Êñ∞ËÅû', price: 0.03, display:'3Èä≠', icon: 'üì∞' },
                        { name: 'ÁâõÈçã', price: 0.15, display:'15Èä≠', icon: 'ü•ò' },
                        { name: 'Êï£È´™', price: 0.1, display:'10Èä≠', icon: 'üíà' },
                    ],
                    column: {
                        title: '‰∏çÊèõÁ¥ôÂπ£„ÅÆÊÅêÊÄñ',
                        text: 'Èáë„Å®‰∫§Êèõ„Åß„Åç„Å™„ÅÑÁ¥ôÂπ£Ôºà‰∏çÊèõÁ¥ôÂπ£Ôºâ„ÇíÂà∑„Çä„Åæ„Åè„Å£„ÅüÁµêÊûú„ÄÅÁ¥ôÂπ£„ÅÆ‰æ°ÂÄ§„ÅåÊö¥ËêΩ„ÄÇÊîøÂ∫ú„ÅØÂæå„Å´„ÄåÊùæÊñπË≤°Êîø„Äç„ÅßË°Ä„ÇíÊµÅ„Åô„Çà„ÅÜ„Å™„Éá„Éï„É¨ÊîøÁ≠ñ„ÇíË°å„ÅÑ„ÄÅ„Åì„Çå„ÇíÊï¥ÁêÜ„Åó„Åæ„Åó„Åü„ÄÇ'
                    }
                },
                meiji_late: {
                    label: 'ÊòéÊ≤ªÂæåÊúü',
                    period: 'Êó•Ê∏Ö„ÉªÊó•Èú≤Âæå',
                    currencyName: 'ÂÜÜÔºàÈáëÊú¨‰ΩçÔºâ',
                    baseRate: 10000,
                    description: 'ÈáëÊú¨‰ΩçÂà∂Á¢∫Á´ã„ÄÇÁî£Ê•≠Èù©ÂëΩ„ÅåÈÄ≤„Åø„ÄÅË≥áÊú¨‰∏ªÁæ©ÁµåÊ∏à„ÅåÁô∫Â±ï„ÄÇ',
                    items: [
                        { name: '„Ç´„É¨„Éº„É©„Ç§„Çπ', price: 0.1, display:'10Èä≠', icon: 'üçõ' },
                        { name: 'Â∏ùÂõΩÂ§ßÂ≠¶ÊéàÊ•≠Êñô', price: 25, display:'25ÂÜÜ', icon: 'üéì' },
                        { name: 'Â§èÁõÆÊº±Áü≥„ÅÆÊú¨', price: 1, display:'1ÂÜÜ', icon: 'üìö' },
                    ],
                    column: {
                        title: 'ÈáëÊú¨‰ΩçÂà∂„Å∏„ÅÆÈÅì',
                        text: 'Êó•Ê∏ÖÊà¶‰∫â„ÅÆË≥†ÂÑüÈáëÔºàÈáëÔºâ„ÇíÊ∫ñÂÇôÈáë„Å®„Åó„Å¶„ÄÅ1897Âπ¥„Å´Ë≤®Âπ£Ê≥ï„ÇíÂà∂ÂÆö„ÄÇ„Å§„ÅÑ„Å´Êó•Êú¨„ÇÇ„ÄåÈáëÊú¨‰ΩçÂà∂„Äç„ÅÆ‰ª≤ÈñìÂÖ•„Çä„ÇíÊûú„Åü„Åó„ÄÅÂõΩÈöõÁöÑ„Å™‰ø°Áî®„ÇíÂæó„Åæ„Åó„Åü„ÄÇ'
                    }
                },
                taisho: {
                    label: 'Â§ßÊ≠£„ÉªÊò≠ÂíåÂàùÊúü',
                    period: '1910-20Âπ¥‰ª£',
                    currencyName: 'ÂÜÜ',
                    baseRate: 4000,
                    description: 'Â§ßÊà¶ÊôØÊ∞ó„Åß„ÄåÊàêÈáë„Äç„ÅåÁôªÂ†¥„Åô„Çã‰∏ÄÊñπ„ÄÅÁ±≥È®íÂãï„Å™„Å©„ÇÇÁô∫Áîü„ÄÇ„É¢„ÉÄ„É≥ÊñáÂåñ„ÅåËä±Èñã„Åè„ÄÇ',
                    items: [
                        { name: '„Ç≠„É£„É©„É°„É´', price: 0.05, display:'5Èä≠', icon: 'üç¨' },
                        { name: 'Âñ´Ëå∂Â∫ó„ÅÆ„Ç≥„Éº„Éí„Éº', price: 0.1, display:'10Èä≠', icon: '‚òï' },
                        { name: '„Çø„ÇØ„Ç∑„ÉºÔºàÂÜÜ„Çø„ÇØÔºâ', price: 1, display:'1ÂÜÜ', icon: 'üöï' },
                        { name: '„Éá„Éë„Éº„Éà„ÅÆÊ¥ãÊúç', price: 10, display:'10ÂÜÜ', icon: 'üëó' },
                    ],
                    column: {
                        title: 'ÊàêÈáë„Å®„Ç∑„Éô„É™„Ç¢Âá∫ÂÖµ',
                        text: 'Á¨¨‰∏ÄÊ¨°‰∏ñÁïåÂ§ßÊà¶„ÅßÊó•Êú¨„ÅØËº∏Âá∫„ÅßÂ§ßÂÑ≤„Åë„Åó„ÄåËàπÊàêÈáë„Äç„ÅåÁ∂öÂá∫„ÄÇ„Åó„Åã„ÅóÊÄ•ÊøÄ„Å™„Ç§„É≥„Éï„É¨„ÅßÁ±≥„ÅÆÂÄ§ÊÆµ„Åå‰∏ä„Åå„Çä„ÄÅ1918Âπ¥„Å´„ÅØ„ÄåÁ±≥È®íÂãï„Äç„ÅåËµ∑„Åì„Çä„Åæ„Åó„Åü„ÄÇ'
                    }
                }
            };

            const calculateConversion = () => {
                const era = eraData[selectedEra];
                if (era.isCommodityMoney) return null;

                let rate = era.baseRate;
                return currentYen / rate;
            };

            const formatCurrency = (value) => {
                if (value === null) return "ÊèõÁÆó‰∏çËÉΩ";
                if (['nara', 'medieval', 'edo_genroku', 'edo_late'].includes(selectedEra)) {
                    return `${Math.floor(value).toLocaleString()} Êñá`;
                }
                
                if (selectedEra === 'edo_early') {
                    if (region === 'edo') {
                        const ryo = Math.floor(value / 4000);
                        const remainder = value % 4000;
                        const bu = Math.floor(remainder / 1000);
                        const shu = Math.floor((remainder % 1000) / 250);
                        const mon = Math.floor(remainder % 250);
                        let res = [];
                        if(ryo) res.push(`${ryo}‰∏°`);
                        if(bu) res.push(`${bu}ÂàÜ`);
                        if(shu) res.push(`${shu}Êú±`);
                        if(mon || res.length===0) res.push(`${mon}Êñá`);
                        return res.join(' ');
                    } else {
                        const totalMomme = value * 0.015;
                        const kan = Math.floor(totalMomme / 1000);
                        const momme = Math.floor(totalMomme % 1000);
                        return `${kan ? kan+'Ë≤´ ' : ''}${momme}ÂåÅ`;
                    }
                }

                if (selectedEra === 'azuchi') {
                    const ryo = value;
                    return `Á¥Ñ ${ryo.toFixed(2)} ‰∏°`;
                }

                if (['meiji_early', 'meiji_late', 'taisho'].includes(selectedEra)) {
                    const yen = Math.floor(value);
                    const sen = Math.floor((value * 100) % 100);
                    return `${yen}ÂÜÜ ${sen}Èä≠`;
                }

                return `${Math.floor(value)}`;
            };

            const convertedValue = calculateConversion();

            return (
                <div className="min-h-screen bg-stone-100 p-4 md:p-8">
                    <div className="max-w-5xl mx-auto">
                        {/* Header */}
                        <header className="mb-8 text-center bg-amber-900 text-amber-50 rounded-2xl p-6 shadow-xl">
                            <h1 className="text-2xl md:text-4xl font-bold mb-2 flex items-center justify-center gap-3">
                                <HistoryIcon className="w-8 h-8 md:w-10 md:h-10" />
                                Êó•Êú¨Âè≤ Ë≤®Âπ£„ÉªÁâ©‰æ°„Çø„Ç§„É†„Éà„É©„Éô„É´
                            </h1>
                            <p className="opacity-90">Áèæ‰ª£„ÅÆ1‰∏áÂÜÜ„ÇíÊè°„Çä„Åó„ÇÅ„Å¶„ÄÅÊøÄÂãï„ÅÆÊ≠¥Âè≤„Å∏È£õ„Å≥Ëæº„ÇÇ„ÅÜ</p>
                        </header>

                        {/* Controls */}
                        <div className="bg-white rounded-xl shadow-lg p-4 md:p-6 mb-6 sticky top-0 z-10 border-b-4 border-amber-200">
                            <div className="flex flex-col md:flex-row gap-6 items-center justify-between">
                                <div className="flex items-center gap-3 w-full md:w-auto">
                                    <label className="font-bold text-stone-600 whitespace-nowrap">ÊâÄÊåÅÈáëÔºö</label>
                                    <div className="relative w-full">
                                        <input
                                            type="number"
                                            value={currentYen}
                                            onChange={(e) => setCurrentYen(Math.max(0, parseInt(e.target.value) || 0))}
                                            className="text-xl md:text-2xl font-bold p-2 border-2 border-stone-200 rounded-lg w-full md:w-48 text-right pr-10 focus:outline-none focus:border-amber-500 transition-colors"
                                        />
                                        <span className="absolute right-3 top-3.5 text-stone-400 font-bold">ÂÜÜ</span>
                                    </div>
                                </div>

                                <div className="flex items-center gap-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0 scrollbar-hide">
                                    <select 
                                        value={selectedEra}
                                        onChange={(e) => setSelectedEra(e.target.value)}
                                        className="bg-amber-100 font-bold text-amber-900 text-lg p-3 rounded-lg border-2 border-amber-300 focus:outline-none cursor-pointer w-full md:w-auto"
                                    >
                                        {Object.entries(eraData).map(([key, data]) => (
                                            <option key={key} value={key}>
                                                {data.label} ({data.period})
                                            </option>
                                        ))}
                                    </select>
                                </div>
                            </div>
                        </div>

                        {/* Main Content */}
                        <div className="grid lg:grid-cols-3 gap-6">
                            {/* Left: Calculation & Items */}
                            <div className="lg:col-span-2 space-y-6">
                                {/* Currency Card */}
                                <div className="bg-gradient-to-br from-amber-50 to-white rounded-2xl border-2 border-amber-200 p-6 shadow-md relative overflow-hidden transition-all duration-300">
                                    <div className="absolute top-0 right-0 p-4 opacity-5">
                                        <CoinsIcon className="w-40 h-40" />
                                    </div>

                                    <div className="flex justify-between items-start mb-4">
                                        <div>
                                            <h2 className="text-2xl font-bold text-amber-900 flex items-center gap-2">
                                                {eraData[selectedEra].label}
                                            </h2>
                                            <p className="text-amber-700 text-sm font-bold mt-1">{eraData[selectedEra].description}</p>
                                        </div>
                                        {/* Edo Toggle */}
                                        {selectedEra === 'edo_early' && (
                                            <div className="flex bg-white rounded-lg border border-amber-200 p-1">
                                                <button onClick={() => setRegion('edo')} className={`px-3 py-1 rounded text-sm font-bold ${region === 'edo' ? 'bg-amber-500 text-white' : 'text-stone-500'}`}>Êù±ÔºàÈáëÔºâ</button>
                                                <button onClick={() => setRegion('osaka')} className={`px-3 py-1 rounded text-sm font-bold ${region === 'osaka' ? 'bg-stone-500 text-white' : 'text-stone-500'}`}>Ë•øÔºàÈäÄÔºâ</button>
                                            </div>
                                        )}
                                    </div>

                                    <div className="text-center py-6">
                                        <div className="text-sm text-stone-500 mb-1">ÁèæÂú®„ÅÆ {currentYen.toLocaleString()} ÂÜÜ„ÅØ...</div>
                                        <div className="text-4xl md:text-5xl font-extrabold text-amber-800 break-words leading-tight">
                                            {eraData[selectedEra].isCommodityMoney ? (
                                                <span className="text-2xl text-stone-500">Ë≤®Âπ£‰æ°ÂÄ§ÊèõÁÆó„Åß„Åç„Åæ„Åõ„Çì<br/>(Á±≥„ÇÑÂ∏É„ÅåÈÄöË≤®‰ª£„Çè„Çä)</span>
                                            ) : formatCurrency(convertedValue)}
                                        </div>
                                    </div>

                                    {/* Status Tags */}
                                    <div className="flex gap-2 mt-4 justify-center">
                                        {['edo_genroku', 'edo_late', 'meiji_early', 'taisho'].includes(selectedEra) && (
                                            <span className="bg-red-100 text-red-700 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1">
                                                <TrendingUpIcon className="w-3 h-3" /> „Ç§„É≥„Éï„É¨Êúü
                                            </span>
                                        )}
                                        {['meiji_late'].includes(selectedEra) && (
                                            <span className="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1">
                                                <TrendingDownIcon className="w-3 h-3" /> „Éá„Éï„É¨„ÉªÂÆâÂÆöÊúü
                                            </span>
                                        )}
                                        {['medieval'].includes(selectedEra) && (
                                            <span className="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1">
                                                <AlertTriangleIcon className="w-3 h-3" /> Êí∞Èä≠„Éà„É©„Éñ„É´Â§öÁô∫
                                            </span>
                                        )}
                                    </div>
                                </div>

                                {/* Shopping List */}
                                <div className="bg-white rounded-2xl shadow-sm border border-stone-200 p-6">
                                    <h3 className="font-bold text-stone-700 mb-4 flex items-center gap-2">
                                        <ShoppingBagIcon className="w-5 h-5 text-amber-600" />
                                        ÂΩìÊôÇ„ÅÆË≤∑„Åà„Çã„ÇÇ„ÅÆ„É™„Çπ„Éà
                                    </h3>
                                    
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        {eraData[selectedEra].items.map((item, idx) => {
                                            let canBuy = 0;
                                            if (!eraData[selectedEra].isCommodityMoney) {
                                                canBuy = Math.floor(convertedValue / item.price);
                                                if(selectedEra === 'azuchi') canBuy = Math.floor(currentYen / (eraData.azuchi.baseRate * item.price));
                                            } else {
                                                canBuy = Math.floor(currentYen / item.price);
                                            }

                                            return (
                                                <div key={idx} className={`flex items-center justify-between p-3 rounded-xl border ${canBuy > 0 ? 'bg-amber-50 border-amber-200' : 'bg-stone-50 border-stone-100 opacity-60'}`}>
                                                    <div className="flex items-center gap-3">
                                                        <div className="text-2xl w-10 text-center">{item.icon}</div>
                                                        <div>
                                                            <div className="font-bold text-stone-800">{item.name}</div>
                                                            <div className="text-xs text-stone-500">
                                                                ÂèÇËÄÉ‰æ°Ê†º: {item.display || `${item.price}${eraData[selectedEra].currencyName}`}
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div className="text-right">
                                                        <div className="text-lg font-bold text-stone-700">
                                                            {canBuy > 0 ? canBuy.toLocaleString() : '0'} 
                                                            <span className="text-xs font-normal ml-1">ÂÄã</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>
                            </div>

                            {/* Right: History Column */}
                            <div className="space-y-6">
                                <div className="bg-stone-800 text-stone-100 rounded-2xl p-6 shadow-xl border-t-4 border-amber-500">
                                    <div className="flex items-center gap-2 mb-4 text-amber-400">
                                        <BookOpenIcon className="w-6 h-6" />
                                        <h3 className="font-bold text-lg">Ê≠¥Âè≤„ÅÆ„Éà„É¨„Éì„Ç¢</h3>
                                    </div>
                                    <h4 className="font-bold text-white text-xl mb-2">{eraData[selectedEra].column.title}</h4>
                                    <p className="text-stone-300 text-sm leading-relaxed">
                                        {eraData[selectedEra].column.text}
                                    </p>
                                </div>

                                {/* Era Timeline Guide */}
                                <div className="bg-white rounded-2xl p-6 border border-stone-200">
                                    <h3 className="font-bold text-stone-700 mb-3 text-sm">ÊôÇ‰ª£„ÅÆÊµÅ„Çå</h3>
                                    <div className="relative pl-4 border-l-2 border-stone-200 space-y-4">
                                        <div className={`text-sm ${['nara','heian'].includes(selectedEra) ? 'font-bold text-amber-600' : 'text-stone-400'}`}>Âè§‰ª£ÔºöÂõΩÁî£„ÅÆÊå´Êäò„Å®Áâ©ÂìÅË≤®Âπ£</div>
                                        <div className={`text-sm ${['medieval'].includes(selectedEra) ? 'font-bold text-amber-600' : 'text-stone-400'}`}>‰∏≠‰∏ñÔºöÊ∏°Êù•Èä≠„ÅÆÊµÅÂÖ•</div>
                                        <div className={`text-sm ${selectedEra.includes('edo') || selectedEra === 'azuchi' ? 'font-bold text-amber-600' : 'text-stone-400'}`}>Ëøë‰∏ñÔºö‰∏âË≤®Âà∂Â∫¶„ÅÆÁ¢∫Á´ã„Å®ÊîπÈã≥</div>
                                        <div className={`text-sm ${selectedEra.includes('meiji') || selectedEra === 'taisho' ? 'font-bold text-amber-600' : 'text-stone-400'}`}>Ëøë‰ª£ÔºöÂÜÜ„ÅÆÁµ±‰∏Ä„Å®ÈáëÊú¨‰ΩçÂà∂</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
